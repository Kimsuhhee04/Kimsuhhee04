# .github/workflows/metrics.yml

name: GitHub Metrics
on:
  # 매일 자정(UTC 기준)에 자동 실행
  schedule:
    - cron: "0 0 * * *"
  # main 브랜치에 push될 때마다 실행 (선택 사항)
  push:
    branches:
      - main
      - master
  # Actions 탭에서 수동으로 실행 가능
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # 사용할 토큰: 2단계에서 설정한 Actions Secret 이름
          token: ${{ secrets.GH_TOKEN }}

          # ⚙️ 옵션 설정 (여기서 Private 저장소 포함 설정)

          # --- 기본 설정 ---
          user: Kimsuhhee04  # 본인 GitHub ID
          base: header, activity, community, repositories, metadata

          # --- Private 저장소 포함 (핵심!) ---
          # 이 옵션이 Private 저장소 통계를 포함시킵니다.
          config_include_private: true 

          # --- 언어 통계 (Top Langs) ---
          plugin_languages: yes
          plugin_languages_threshold: 0%
          plugin_languages_sections: most-used
          plugin_languages_details: bytes-size, percentage
          plugin_languages_recent_load: 300 
          plugin_languages_recent_days: 14

          # --- 그 외 추천 플러그인 ---
          plugin_isocalendar: yes
          plugin_isocalendar_duration: full-year

          plugin_lines: yes
